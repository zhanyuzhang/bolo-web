define(["three@78-0-x"],function(t,e,i){"use strict";var o=t("three@78-0-x"),n=function(t,e){function i(t){for(var i=0;i<t.length;i++)if("VRDisplay"in window&&t[i]instanceof VRDisplay||"PositionSensorVRDevice"in window&&t[i]instanceof PositionSensorVRDevice){n=t[i];break}n||e&&e("VR input not available.")}var n,s=this,r=new o.Matrix4;navigator.getVRDisplays?navigator.getVRDisplays().then(i):navigator.getVRDevices&&navigator.getVRDevices().then(i),this.scale=1,this.standing=!1,this.userHeight=1.6,this.getStandingMatrix=function(){return r},this.update=function(){if(n){if(n.getPose){var e=n.getPose();null!==e.orientation&&t.quaternion.fromArray(e.orientation),null!==e.position?t.position.fromArray(e.position):t.position.set(0,0,0)}else{var i=n.getState();null!==i.orientation&&t.quaternion.copy(i.orientation),null!==i.position?t.position.copy(i.position):t.position.set(0,0,0)}this.standing&&(n.stageParameters?(t.updateMatrix(),r.fromArray(n.stageParameters.sittingToStandingTransform),t.applyMatrix(r)):t.position.setY(t.position.y+this.userHeight)),t.position.multiplyScalar(s.scale)}},this.resetPose=function(){n&&(void 0!==n.resetPose?n.resetPose():void 0!==n.resetSensor?n.resetSensor():void 0!==n.zeroSensor&&n.zeroSensor())},this.resetSensor=function(){console.warn("THREE.VRControls: .resetSensor() is now .resetPose()."),this.resetPose()},this.zeroSensor=function(){console.warn("THREE.VRControls: .zeroSensor() is now .resetPose()."),this.resetPose()},this.dispose=function(){n=null}};return n});