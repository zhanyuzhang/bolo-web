define(["three@78-0-x"],function(e,t,n){"use strict";var i=e("three@78-0-x"),a=function(e){var t=this;this.object=e,this.object.rotation.reorder("YXZ"),this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0,this.alpha=0,this.alphaOffsetAngle=0;var n=function(e){t.deviceOrientation=e},a=function(){t.screenOrientation=window.orientation||0},o=function(){var e=new i.Vector3(0,0,1),t=new i.Euler,n=new i.Quaternion,a=new i.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5));return function(i,o,r,s,c){t.set(r,o,-s,"YXZ"),i.setFromEuler(t),i.multiply(a),i.multiply(n.setFromAxisAngle(e,-c))}}();this.connect=function(){a(),window.addEventListener("orientationchange",a,!1),window.addEventListener("deviceorientation",n,!1),t.enabled=!0},this.disconnect=function(){window.removeEventListener("orientationchange",a,!1),window.removeEventListener("deviceorientation",n,!1),t.enabled=!1},this.update=function(){if(t.enabled!==!1){var e=t.deviceOrientation.alpha?i.Math.degToRad(t.deviceOrientation.alpha)+this.alphaOffsetAngle:0,n=t.deviceOrientation.beta?i.Math.degToRad(t.deviceOrientation.beta):0,a=t.deviceOrientation.gamma?i.Math.degToRad(t.deviceOrientation.gamma):0,r=t.screenOrientation?i.Math.degToRad(t.screenOrientation):0;o(t.object.quaternion,e,n,a,r),this.alpha=e}},this.updateAlphaOffsetAngle=function(e){this.alphaOffsetAngle=e,this.update()},this.dispose=function(){this.disconnect()},this.connect()};return a});